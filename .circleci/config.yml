version: 2
jobs:
  selenoid_up:
    machine: true
    steps:
      - run:
          name: selenoid_up
          command: echo selenoid_up
  selenoid_down:
    machine: true
    steps:
      - run:
          name: selenoid_down
          command: echo selenoid_down
  autotests:
    machine: true
    steps:
      - run:
          name: autotests
          command: echo autotests
  allure_report:
    machine: true
    steps:
      - run:
          name: allure_report
          command: echo allure_report

workflows:
  version: 2
  selenoid_and_tests:
    jobs:
      - selenoid_up
      - autotests:
         requires:
            - selenoid_up
      - selenoid_down:
          requires:
            - autotests
      - allure_report:
          requires:
            - autotests